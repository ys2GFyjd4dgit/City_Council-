# データフォーマット仕様

## JSONファイル形式

### ファイル名規則
```
議員リスト_{自治体コード6桁}_{自治体名}.json
```

例:
- `議員リスト_132012_八王子市.json`
- `議員リスト_112089_所沢市.json`

### JSONスキーマ

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["氏名", "登録名", "よみ", "X（旧Twitter）", "所属"],
    "properties": {
      "氏名": {
        "type": "string",
        "description": "議員の氏名（姓と名の間に全角スペース）"
      },
      "登録名": {
        "type": "string", 
        "description": "正式な登録名（通常は氏名と同じ）"
      },
      "よみ": {
        "type": "string",
        "description": "ひらがなの読み仮名（姓と名の間に全角スペース）"
      },
      "X（旧Twitter）": {
        "type": ["string", "null"],
        "description": "XのURL（https://x.com/アカウント名）またはnull"
      },
      "所属": {
        "type": "string",
        "description": "所属会派名（無所属の場合は「無所属」）"
      }
    }
  }
}
```

### 記載例

```json
[
  {
    "氏名": "山田　太郎",
    "登録名": "山田　太郎",
    "よみ": "やまだ　たろう",
    "X（旧Twitter）": "https://x.com/yamada_taro",
    "所属": "自由民主党"
  },
  {
    "氏名": "鈴木　花子",
    "登録名": "鈴木　花子", 
    "よみ": "すずき　はなこ",
    "X（旧Twitter）": null,
    "所属": "無所属"
  }
]
```

## 注意事項

### 文字の表記
- 姓と名の間: 全角スペース
- 旧字体・異体字: 公式サイトの表記に従う
- 英数字: 原則全角（URL除く）

### X（旧Twitter）フィールド
- 形式: `https://x.com/{アカウント名}`
- アカウントがない場合: `null`（文字列の"null"ではない）
- @マークは含めない

### 所属フィールド
- 正式名称を使用
- 略称は避ける（例: ✗自民党 → ○自由民主党）
- 会派に属さない場合: "無所属"

### 空席・欠員の扱い
- 空席がある場合はJSONに含めない
- 議員数は実際の在籍議員数をカウント

## ディレクトリ配置

### 現在の構造（東京都のみ）
```
data/processed/
└── 議員リスト_{自治体コード}_{自治体名}.json
```

### 将来の構造（複数都道府県対応）
```
data/processed/
├── 13_東京都/
│   └── 議員リスト_{自治体コード}_{自治体名}.json
├── 11_埼玉県/
│   └── 議員リスト_{自治体コード}_{自治体名}.json
└── .../
```

## バリデーション

以下のコマンドでデータの妥当性を検証：
```bash
python scripts/validate_data.py
```

検証内容:
- 必須フィールドの存在
- データ型の一致
- 文字コード（UTF-8）
- JSONの構文