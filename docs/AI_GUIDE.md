# AI編集ガイド

このドキュメントは、生成AI（Claude、ChatGPT等）がこのリポジトリを効率的に編集するためのガイドラインです。

## プロジェクト概要

市町村議会の議員情報を収集・管理するプロジェクトです。現在は東京都の市町村が対象ですが、今後他の都道府県にも拡張予定です。

## ディレクトリ構造

```
City_Council-/
├── data/
│   ├── raw/               # 元データ（HTMLファイル等）
│   │   └── {市町村名}/    # 市町村ごとのディレクトリ
│   │       └── YYYYMMDD/  # 取得日ごとのディレクトリ
│   │           └── source.html
│   └── processed/         # 加工済みデータ（JSONファイル）
│       └── 議員リスト_{自治体コード}_{自治体名}.json
├── docs/                  # ドキュメント
├── scripts/               # 各種スクリプト
├── schema/                # JSONスキーマ定義
└── README.md             # プロジェクト説明
```

## 新しい自治体を追加する手順

### 自動化ツールを使う場合（推奨）
```bash
python scripts/add_municipality.py
```
対話形式で必要な情報を入力すると、ディレクトリ作成とHTMLダウンロードが自動化されます。

### 手動で行う場合

#### 1. ディレクトリの作成
```bash
mkdir -p data/raw/{自治体名}/$(date +%Y%m%d)
```

### 2. HTMLデータの取得
```bash
curl -s "{公式サイトURL}" -o data/raw/{自治体名}/$(date +%Y%m%d)/source.html
```

### 3. JSONファイルの作成
- ファイル名: `議員リスト_{自治体コード}_{自治体名}.json`
- 保存先: `data/processed/`
- フォーマット: 以下の形式に従う

```json
[
  {
    "氏名": "議員名",
    "登録名": "議員名",
    "よみ": "ふりがな",
    "X（旧Twitter）": "https://x.com/account または null",
    "所属": "会派名"
  }
]
```

### 4. README.mdの更新
対応する表に以下の形式で追加：
```markdown
| 自治体名 | 自治体コード | 校正中 | 議員数 | X登録数 | 更新日 | [議員リスト](パス) |
```

## 自治体コードの規則

- 6桁の数字
- 東京都: 13xxxx
- 埼玉県: 11xxxx
- 詳細は `docs/MUNICIPALITY_CODES.md` を参照

## Xアカウント検索のガイドライン

1. 検索キーワード: `{議員名} {自治体名} 議員`
2. 確認ポイント:
   - プロフィールに議員であることが明記されている
   - 議会活動に関する投稿がある
   - 公式サイトにリンクが記載されている

## データ検証

作業完了後、以下のコマンドで検証：
```bash
python scripts/validate_data.py
```

## コミットメッセージの規則

日本語で、以下の形式で記載：
- 新規追加: `{自治体名}の議員リストを追加`
- 更新: `{自治体名}のXアカウント情報を更新`
- 修正: `{自治体名}の{内容}を修正`

## よくある質問

### Q: 議員の読み仮名がわからない場合
A: 公式サイトに記載がない場合は、一般的な読み方を採用し、後で修正可能とする

### Q: 会派情報がない場合
A: "無所属" と記載

### Q: Xアカウントが見つからない場合
A: null のままにして、後で更新

## 注意事項

- 文字コードはUTF-8
- 改行コードはLF
- インデントはスペース2つ
- JSONの最後にカンマを入れない